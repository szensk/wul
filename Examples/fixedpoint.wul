(import Examples.math into math)

(defn fixed-point (f n precision) 
	(if (= n nil)
		(then (fixed-point f 0 precision))
		(else 
			(let val (f n)
				(do 
					(print "{(debug.name f)}({n}) = {val}")
					(if (< (math.abs (- val n)) (?? precision 0.001))
						(then n)
						(else (fixed-point f val precision))
					)
				)
			)
		)
	)
)

(print (fixed-point math.cos precision: 0.1))